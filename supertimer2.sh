#!/bin/bash

# Длительность одной итерации в секундах
iteration_duration=2

# Начало цикла
while true; do
    # Запускаем операцию с таймаутом
    echo "Запускаю операцию с ограничением по времени..."
    
    # Здесь ваша операция (например, долгий процесс)
    timeout $iteration_duration bash -c "
        # Ваши операции, которые могут занять больше времени
        sleep 3  # Например, эта операция займет 10 секунд
        echo 'Операция завершена'
    "
    
    # Ожидаем оставшееся время для завершения итерации
    echo "Итерация завершена. Начинаем новую через $iteration_duration секунд."
    sleep $iteration_duration
done